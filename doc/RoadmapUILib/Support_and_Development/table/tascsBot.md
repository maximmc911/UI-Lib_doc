

[назад](./tableTascs.md)


Вот подробная документация в формате Markdown по подготовке `labels.yaml` и шаблонов для triage-бота для **Таблицы приоритетов задач**. Она описывает что это, зачем нужно, структуру, и содержит примеры.

---

# Документация по подготовке `labels.yaml` и шаблонов для triage-бота  
_Таблица приоритетов задач_

---

## Введение

Triage-бот помогает автоматизировать процесс сортировки и назначения приоритетов задач (issues, тикетов) в репозитории. Для этого он использует:

- **Файл `labels.yaml`** — конфигурацию меток (labels), с описанием их приоритетов, цветов и группировок.
- **Шаблоны сообщений** — которые бот использует для уведомлений, запросов дополнительной информации, уведомления о статусах.

Данная документация описывает, как подготовить и структурировать `labels.yaml`, а также как создавать и подключать шаблоны для triage-бота.

---

## 1. Подготовка `labels.yaml`

### 1.1. Назначение файла

`labels.yaml` — это главный конфигурационный файл, в котором задаются все метки, используемые для приоритизации задач. 

В файле указывается:

- Название метки (label)
- Цвет (для отображения в интерфейсе)
- Приоритет (числовое значение или группа)
- Группа (например, `priority`, `type`, `status`)
- Описание (для удобства участников команды)

---

### 1.2. Структура файла

```yaml
labels:
  - name: P0 - Critical
    color: "B60205"
    priority: 0
    group: priority
    description: "Критическая проблема, требует немедленного решения."

  - name: P1 - High
    color: "D93F0B"
    priority: 1
    group: priority
    description: "Высокий приоритет, важная задача."

  - name: P2 - Medium
    color: "FBCA04"
    priority: 2
    group: priority
    description: "Средний приоритет."

  - name: bug
    color: "D73A4A"
    group: type
    description: "Ошибка или баг."

  - name: enhancement
    color: "A2EEEF"
    group: type
    description: "Запрос на улучшение или новую функцию."
````

---

### 1.3. Пояснения

* `name` — название метки, должно совпадать с названием в системе трекинга (например, GitHub).
* `color` — шестнадцатеричный цвет без `#`.
* `priority` — числовой приоритет (0 — самый высокий).
* `group` — категория метки (например, `priority`, `type`, `status`).
* `description` — краткое описание для понимания назначения метки.

---

## 2. Шаблоны для triage-бота

### 2.1. Назначение шаблонов

Шаблоны — это сообщения, которые triage-бот отправляет пользователям в разных ситуациях, например:

* Запрос дополнительной информации
* Информирование о назначенном приоритете
* Уведомление о переходе задачи в определённый статус

Шаблоны хранятся в текстовых файлах (например, `templates/request-info.md`, `templates/priority-assigned.md`).

---

### 2.2. Пример шаблона: Запрос дополнительной информации (`request-info.md`)

```markdown
Здравствуйте! Спасибо за ваше сообщение.

Чтобы мы могли быстрее разобраться, пожалуйста, предоставьте дополнительную информацию:
- Шаги для воспроизведения
- Ожидаемое поведение
- Фактическое поведение
- Скриншоты или логи (если есть)

Спасибо за сотрудничество!
```

---

### 2.3. Пример шаблона: Уведомление о приоритете (`priority-assigned.md`)

```markdown
Здравствуйте!

Вашей задаче назначен приоритет: **{{priority_name}}**.

Описание приоритета: {{priority_description}}

Мы постараемся обработать её в соответствии с указанным уровнем важности.

Спасибо за понимание!
```

> В шаблонах можно использовать переменные, которые бот подставляет автоматически.

---

## 3. Интеграция в triage-бота

* `labels.yaml` размещается в корне репозитория или в папке `.github/triage`.
* Шаблоны помещаются в отдельную папку, например, `.github/triage/templates/`.
* В конфигурации triage-бота (например, в `.github/triage/config.yaml`) указываются пути к файлам.
* При поступлении новой задачи бот читает метки, сопоставляет с приоритетами из `labels.yaml` и отправляет нужные шаблоны.

---

## 4. Рекомендации

* Сохраняйте согласованность в названиях меток.
* Не используйте слишком много приоритетных уровней — обычно хватает 3-4.
* Пишите понятные описания меток.
* Проверяйте корректность цветов.
* Делайте шаблоны дружелюбными и понятными.

---

## 5. Пример полного `labels.yaml`

```yaml
labels:
  - name: P0 - Critical
    color: "B60205"
    priority: 0
    group: priority
    description: "Критическая проблема, требует немедленного решения."

  - name: P1 - High
    color: "D93F0B"
    priority: 1
    group: priority
    description: "Высокий приоритет, важная задача."

  - name: P2 - Medium
    color: "FBCA04"
    priority: 2
    group: priority
    description: "Средний приоритет."

  - name: P3 - Low
    color: "0E8A16"
    priority: 3
    group: priority
    description: "Низкий приоритет."

  - name: bug
    color: "D73A4A"
    group: type
    description: "Ошибка или баг."

  - name: enhancement
    color: "A2EEEF"
    group: type
    description: "Запрос на улучшение или новую функцию."

  - name: help wanted
    color: "008672"
    group: status
    description: "Требуется помощь от сообщества."
```

---

## 6. Заключение

Правильно настроенный файл `labels.yaml` и продуманные шаблоны — основа эффективной работы triage-бота, позволяющая оперативно распределять задачи и информировать участников процесса.

