

[–Ω–∞–∑–∞–¥](../Component_Development.md)


# üì¶ 3.3 –•—É–∫–∏ –∏ –£—Ç–∏–ª–∏—Ç—ã –≤ UI-–±–∏–±–ª–∏–æ—Ç–µ–∫–µ

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö UI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ—é—Ç **–ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö—É–∫–∏ (hooks)** –∏ **—É—Ç–∏–ª–∏—Ç—ã (utilities)**. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Ö—É–∫–∞–º –∏ —É—Ç–∏–ª–∏—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ –±–∞–∑–æ–≤–æ–µ —è–¥—Ä–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

---

## üîÅ –•—É–∫–∏ (React Hooks)

### 1. `useToggle`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É–ª–µ–≤—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏, —á–µ–∫–±–æ–∫—Å—ã.

**–ü—Ä–∏–º–µ—Ä:**

```tsx
const [isOpen, toggle] = useToggle();

return (
  <>
    <button onClick={toggle}>–û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É</button>
    {isOpen && <Modal />}
  </>
);
````

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```ts
function useToggle(initial = false): [boolean, () => void] {
  const [state, setState] = useState(initial);
  const toggle = () => setState(prev => !prev);
  return [state, toggle];
}
```

---

### 2. `useOutsideClick`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –≤–Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ DOM-—ç–ª–µ–º–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–ø–∞–ø–æ–≤ –∏ –¥—Ä–æ–ø–¥–∞—É–Ω–æ–≤).

**–ü—Ä–∏–º–µ—Ä:**

```tsx
const ref = useRef(null);
useOutsideClick(ref, () => setOpen(false));

return <div ref={ref}>–ö–æ–Ω—Ç–µ–Ω—Ç</div>;
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```ts
function useOutsideClick(ref: RefObject<HTMLElement>, callback: () => void) {
  useEffect(() => {
    function handleClick(event: MouseEvent) {
      if (!ref.current || ref.current.contains(event.target as Node)) return;
      callback();
    }

    document.addEventListener('mousedown', handleClick);
    return () => document.removeEventListener('mousedown', handleClick);
  }, [ref, callback]);
}
```

---

### 3. `useClipboard`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ/–Ω–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ.

**–ü—Ä–∏–º–µ—Ä:**

```tsx
const [copied, copyToClipboard] = useClipboard();

<button onClick={() => copyToClipboard("Hello")}>Copy</button>
{copied && <p>–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!</p>}
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```ts
function useClipboard(timeout = 2000): [boolean, (text: string) => void] {
  const [copied, setCopied] = useState(false);

  const copy = (text: string) => {
    navigator.clipboard.writeText(text).then(() => {
      setCopied(true);
      setTimeout(() => setCopied(false), timeout);
    });
  };

  return [copied, copy];
}
```

---

## üß∞ –£—Ç–∏–ª–∏—Ç—ã (Utilities)

### 1. `cn` ‚Äî –ö–ª–∞—Å—Å-–∫–æ–º–±–∞–π–Ω–µ—Ä (classNames)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–æ–±–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –∫–ª–∞—Å—Å–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ —Å —É—Å–ª–æ–≤–∏—è–º–∏. –Ø–≤–ª—è–µ—Ç—Å—è –∞–Ω–∞–ª–æ–≥–æ–º `clsx` –∏–ª–∏ `classnames`.

**–ü—Ä–∏–º–µ—Ä:**

```tsx
<div className={cn('btn', isActive && 'btn--active', isDisabled && 'btn--disabled')} />
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```ts
function cn(...args: (string | boolean | null | undefined)[]): string {
  return args.filter(Boolean).join(' ');
}
```

---

### 2. `debounce` ‚Äî –ó–∞–¥–µ—Ä–∂–∫–∞ –≤—ã–∑–æ–≤–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ü–æ–ª–µ–∑–µ–Ω –ø—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞, –ø–æ–∏—Å–∫–µ, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ç.–ø.

**–ü—Ä–∏–º–µ—Ä:**

```ts
const debouncedSearch = debounce((query) => {
  fetchData(query);
}, 300);

<input onChange={(e) => debouncedSearch(e.target.value)} />
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```ts
function debounce<T extends (...args: any[]) => void>(fn: T, delay: number): T {
  let timer: ReturnType<typeof setTimeout>;
  return function (...args: any[]) {
    clearTimeout(timer);
    timer = setTimeout(() => fn(...args), delay);
  } as T;
}
```

---

### 3. `throttle` ‚Äî –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –≤—ã–∑–æ–≤–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–µ —á–∞—â–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞. –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ scroll/resize.

**–ü—Ä–∏–º–µ—Ä:**

```ts
const throttledScroll = throttle(() => {
  console.log('Scroll!');
}, 1000);

window.addEventListener('scroll', throttledScroll);
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```ts
function throttle<T extends (...args: any[]) => void>(fn: T, limit: number): T {
  let inThrottle = false;
  return function (...args: any[]) {
    if (!inThrottle) {
      fn(...args);
      inThrottle = true;
      setTimeout(() => (inThrottle = false), limit);
    }
  } as T;
}
```

---

## üßæ –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ù–∞–∑–≤–∞–Ω–∏–µ          | –¢–∏–ø     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                               | –ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                    |
| ----------------- | ------- | ---------------------------------------- | ----------------------------------- |
| `useToggle`       | –•—É–∫     | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É–ª–µ–≤—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º            | –ú–æ–¥–∞–ª–∫–∏, —á–µ–∫–±–æ–∫—Å—ã, –ø–æ–ø–∞–ø—ã           |
| `useOutsideClick` | –•—É–∫     | –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ —ç–ª–µ–º–µ–Ω—Ç–∞          | Dropdown, Popover, Modal            |
| `useClipboard`    | –•—É–∫     | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ | –ö–Ω–æ–ø–∫–∏ "Copy", —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è          |
| `cn`              | –£—Ç–∏–ª–∏—Ç–∞ | –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ CSS-–∫–ª–∞—Å—Å–æ–≤               | –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã                      |
| `debounce`        | –£—Ç–∏–ª–∏—Ç–∞ | –ó–∞–¥–µ—Ä–∂–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏              | –ü–æ–∏—Å–∫, –∏–Ω–ø—É—Ç, —Ñ–∏–ª—å—Ç—Ä—ã               |
| `throttle`        | –£—Ç–∏–ª–∏—Ç–∞ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏       | Scroll, resize, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π |

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–∏ —Ö—É–∫–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –∏ –ø—Ä–∏–º–µ–Ω–∏–º—ã –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –û–Ω–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç—è—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–∞—Ç —Ö–æ—Ä–æ—à—É—é –ø—Ä–∞–∫—Ç–∏–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏.

> ‚ú® –í –±—É–¥—É—â–µ–º –≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ö—É–∫–æ–≤ –∏ —É—Ç–∏–ª–∏—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `useMediaQuery`, `usePrefersColorScheme`, `usePortal`, `mergeRefs` –∏ –¥—Ä.).

